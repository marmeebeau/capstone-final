{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\marmeeluv\\\\Desktop\\\\capstone-final\\\\frontend\\\\src\\\\components\\\\Profile.jsx\",\n  _s = $RefreshSig$();\n// src/components/Profile.jsx\nimport React, { useState } from 'react';\nimport { verifyOldPassword, updateProfile } from '../services/authServices'; // Adjust the import as necessary\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Profile = ({\n  coordinatorId\n}) => {\n  _s();\n  const [formData, setFormData] = useState({\n    coor_fname: '',\n    coor_lname: '',\n    coor_username: '',\n    coor_email: '',\n    coor_password: '',\n    old_password: '',\n    coor_contact: '',\n    coor_address: '',\n    coor_role: ''\n  });\n  const [errorMessage, setErrorMessage] = useState('');\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setErrorMessage(''); // Reset error message before each submit\n\n    try {\n      // Step 1: Verify old password\n      const verificationResult = await verifyOldPassword(coordinatorId, formData.old_password);\n      if (!verificationResult.success) {\n        throw new Error(verificationResult.message); // Throw an error if verification fails\n      }\n\n      // Step 2: If verification is successful, update the coordinator's data\n      const updatedCoordinator = await updateProfile(coordinatorId, formData);\n\n      // Handle successful update (e.g., show a success message or redirect)\n      console.log('Coordinator updated successfully:', updatedCoordinator);\n    } catch (error) {\n      // Handle error (e.g., show an error message)\n      console.error('Error during update:', error);\n      setErrorMessage(error.message); // Display the error message to the user\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [errorMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error\",\n      children: errorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 30\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"coor_fname\",\n      value: formData.coor_fname,\n      onChange: handleChange,\n      placeholder: \"First Name\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"coor_lname\",\n      value: formData.coor_lname,\n      onChange: handleChange,\n      placeholder: \"Last Name\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"coor_username\",\n      value: formData.coor_username,\n      onChange: handleChange,\n      placeholder: \"Username\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"email\",\n      name: \"coor_email\",\n      value: formData.coor_email,\n      onChange: handleChange,\n      placeholder: \"Email\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      name: \"old_password\",\n      value: formData.old_password,\n      onChange: handleChange,\n      placeholder: \"Old Password\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      name: \"coor_password\",\n      value: formData.coor_password,\n      onChange: handleChange,\n      placeholder: \"New Password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"coor_contact\",\n      value: formData.coor_contact,\n      onChange: handleChange,\n      placeholder: \"Contact\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"coor_address\",\n      value: formData.coor_address,\n      onChange: handleChange,\n      placeholder: \"Address\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      name: \"coor_role\",\n      value: formData.coor_role,\n      onChange: handleChange,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"Coordinator\",\n        children: \"Coordinator\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"Admin\",\n        children: \"Admin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Update Profile\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n};\n_s(Profile, \"G24A70QwgNzx1RP+gB7ERkGiu7E=\");\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","verifyOldPassword","updateProfile","jsxDEV","_jsxDEV","Profile","coordinatorId","_s","formData","setFormData","coor_fname","coor_lname","coor_username","coor_email","coor_password","old_password","coor_contact","coor_address","coor_role","errorMessage","setErrorMessage","handleChange","e","name","value","target","handleSubmit","preventDefault","verificationResult","success","Error","message","updatedCoordinator","console","log","error","onSubmit","children","className","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","placeholder","required","_c","$RefreshReg$"],"sources":["C:/Users/marmeeluv/Desktop/capstone-final/frontend/src/components/Profile.jsx"],"sourcesContent":["// src/components/Profile.jsx\r\nimport React, { useState } from 'react';\r\nimport { verifyOldPassword, updateProfile } from '../services/authServices'; // Adjust the import as necessary\r\n\r\nconst Profile = ({ coordinatorId }) => {\r\n    const [formData, setFormData] = useState({\r\n        coor_fname: '',\r\n        coor_lname: '',\r\n        coor_username: '',\r\n        coor_email: '',\r\n        coor_password: '',\r\n        old_password: '',\r\n        coor_contact: '',\r\n        coor_address: '',\r\n        coor_role: ''\r\n    });\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setFormData({\r\n            ...formData,\r\n            [name]: value\r\n        });\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setErrorMessage(''); // Reset error message before each submit\r\n\r\n        try {\r\n            // Step 1: Verify old password\r\n            const verificationResult = await verifyOldPassword(coordinatorId, formData.old_password);\r\n\r\n            if (!verificationResult.success) {\r\n                throw new Error(verificationResult.message); // Throw an error if verification fails\r\n            }\r\n\r\n            // Step 2: If verification is successful, update the coordinator's data\r\n            const updatedCoordinator = await updateProfile(coordinatorId, formData);\r\n\r\n            // Handle successful update (e.g., show a success message or redirect)\r\n            console.log('Coordinator updated successfully:', updatedCoordinator);\r\n        } catch (error) {\r\n            // Handle error (e.g., show an error message)\r\n            console.error('Error during update:', error);\r\n            setErrorMessage(error.message); // Display the error message to the user\r\n        }\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {errorMessage && <p className=\"error\">{errorMessage}</p>} {/* Display error message */}\r\n            <input\r\n                type=\"text\"\r\n                name=\"coor_fname\"\r\n                value={formData.coor_fname}\r\n                onChange={handleChange}\r\n                placeholder=\"First Name\"\r\n                required\r\n            />\r\n            <input\r\n                type=\"text\"\r\n                name=\"coor_lname\"\r\n                value={formData.coor_lname}\r\n                onChange={handleChange}\r\n                placeholder=\"Last Name\"\r\n            />\r\n            <input\r\n                type=\"text\"\r\n                name=\"coor_username\"\r\n                value={formData.coor_username}\r\n                onChange={handleChange}\r\n                placeholder=\"Username\"\r\n                required\r\n            />\r\n            <input\r\n                type=\"email\"\r\n                name=\"coor_email\"\r\n                value={formData.coor_email}\r\n                onChange={handleChange}\r\n                placeholder=\"Email\"\r\n                required\r\n            />\r\n            <input\r\n                type=\"password\"\r\n                name=\"old_password\"\r\n                value={formData.old_password}\r\n                onChange={handleChange}\r\n                placeholder=\"Old Password\"\r\n                required\r\n            />\r\n            <input\r\n                type=\"password\"\r\n                name=\"coor_password\"\r\n                value={formData.coor_password}\r\n                onChange={handleChange}\r\n                placeholder=\"New Password\"\r\n            />\r\n            <input\r\n                type=\"text\"\r\n                name=\"coor_contact\"\r\n                value={formData.coor_contact}\r\n                onChange={handleChange}\r\n                placeholder=\"Contact\"\r\n            />\r\n            <input\r\n                type=\"text\"\r\n                name=\"coor_address\"\r\n                value={formData.coor_address}\r\n                onChange={handleChange}\r\n                placeholder=\"Address\"\r\n            />\r\n            <select\r\n                name=\"coor_role\"\r\n                value={formData.coor_role}\r\n                onChange={handleChange}\r\n            >\r\n                <option value=\"Coordinator\">Coordinator</option>\r\n                <option value=\"Admin\">Admin</option>\r\n            </select>\r\n            <button type=\"submit\">Update Profile</button>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default Profile;\r\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,iBAAiB,EAAEC,aAAa,QAAQ,0BAA0B,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE7E,MAAMC,OAAO,GAAGA,CAAC;EAAEC;AAAc,CAAC,KAAK;EAAAC,EAAA;EACnC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGT,QAAQ,CAAC;IACrCU,UAAU,EAAE,EAAE;IACdC,UAAU,EAAE,EAAE;IACdC,aAAa,EAAE,EAAE;IACjBC,UAAU,EAAE,EAAE;IACdC,aAAa,EAAE,EAAE;IACjBC,YAAY,EAAE,EAAE;IAChBC,YAAY,EAAE,EAAE;IAChBC,YAAY,EAAE,EAAE;IAChBC,SAAS,EAAE;EACf,CAAC,CAAC;EACF,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EAEpD,MAAMqB,YAAY,GAAIC,CAAC,IAAK;IACxB,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,CAAC,CAACG,MAAM;IAChChB,WAAW,CAAC;MACR,GAAGD,QAAQ;MACX,CAACe,IAAI,GAAGC;IACZ,CAAC,CAAC;EACN,CAAC;EAED,MAAME,YAAY,GAAG,MAAOJ,CAAC,IAAK;IAC9BA,CAAC,CAACK,cAAc,CAAC,CAAC;IAClBP,eAAe,CAAC,EAAE,CAAC,CAAC,CAAC;;IAErB,IAAI;MACA;MACA,MAAMQ,kBAAkB,GAAG,MAAM3B,iBAAiB,CAACK,aAAa,EAAEE,QAAQ,CAACO,YAAY,CAAC;MAExF,IAAI,CAACa,kBAAkB,CAACC,OAAO,EAAE;QAC7B,MAAM,IAAIC,KAAK,CAACF,kBAAkB,CAACG,OAAO,CAAC,CAAC,CAAC;MACjD;;MAEA;MACA,MAAMC,kBAAkB,GAAG,MAAM9B,aAAa,CAACI,aAAa,EAAEE,QAAQ,CAAC;;MAEvE;MACAyB,OAAO,CAACC,GAAG,CAAC,mCAAmC,EAAEF,kBAAkB,CAAC;IACxE,CAAC,CAAC,OAAOG,KAAK,EAAE;MACZ;MACAF,OAAO,CAACE,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5Cf,eAAe,CAACe,KAAK,CAACJ,OAAO,CAAC,CAAC,CAAC;IACpC;EACJ,CAAC;EAED,oBACI3B,OAAA;IAAMgC,QAAQ,EAAEV,YAAa;IAAAW,QAAA,GACxBlB,YAAY,iBAAIf,OAAA;MAAGkC,SAAS,EAAC,OAAO;MAAAD,QAAA,EAAElB;IAAY;MAAAoB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAAC,GAAC,eAC1DtC,OAAA;MACIuC,IAAI,EAAC,MAAM;MACXpB,IAAI,EAAC,YAAY;MACjBC,KAAK,EAAEhB,QAAQ,CAACE,UAAW;MAC3BkC,QAAQ,EAAEvB,YAAa;MACvBwB,WAAW,EAAC,YAAY;MACxBC,QAAQ;IAAA;MAAAP,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACX,CAAC,eACFtC,OAAA;MACIuC,IAAI,EAAC,MAAM;MACXpB,IAAI,EAAC,YAAY;MACjBC,KAAK,EAAEhB,QAAQ,CAACG,UAAW;MAC3BiC,QAAQ,EAAEvB,YAAa;MACvBwB,WAAW,EAAC;IAAW;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1B,CAAC,eACFtC,OAAA;MACIuC,IAAI,EAAC,MAAM;MACXpB,IAAI,EAAC,eAAe;MACpBC,KAAK,EAAEhB,QAAQ,CAACI,aAAc;MAC9BgC,QAAQ,EAAEvB,YAAa;MACvBwB,WAAW,EAAC,UAAU;MACtBC,QAAQ;IAAA;MAAAP,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACX,CAAC,eACFtC,OAAA;MACIuC,IAAI,EAAC,OAAO;MACZpB,IAAI,EAAC,YAAY;MACjBC,KAAK,EAAEhB,QAAQ,CAACK,UAAW;MAC3B+B,QAAQ,EAAEvB,YAAa;MACvBwB,WAAW,EAAC,OAAO;MACnBC,QAAQ;IAAA;MAAAP,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACX,CAAC,eACFtC,OAAA;MACIuC,IAAI,EAAC,UAAU;MACfpB,IAAI,EAAC,cAAc;MACnBC,KAAK,EAAEhB,QAAQ,CAACO,YAAa;MAC7B6B,QAAQ,EAAEvB,YAAa;MACvBwB,WAAW,EAAC,cAAc;MAC1BC,QAAQ;IAAA;MAAAP,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACX,CAAC,eACFtC,OAAA;MACIuC,IAAI,EAAC,UAAU;MACfpB,IAAI,EAAC,eAAe;MACpBC,KAAK,EAAEhB,QAAQ,CAACM,aAAc;MAC9B8B,QAAQ,EAAEvB,YAAa;MACvBwB,WAAW,EAAC;IAAc;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7B,CAAC,eACFtC,OAAA;MACIuC,IAAI,EAAC,MAAM;MACXpB,IAAI,EAAC,cAAc;MACnBC,KAAK,EAAEhB,QAAQ,CAACQ,YAAa;MAC7B4B,QAAQ,EAAEvB,YAAa;MACvBwB,WAAW,EAAC;IAAS;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxB,CAAC,eACFtC,OAAA;MACIuC,IAAI,EAAC,MAAM;MACXpB,IAAI,EAAC,cAAc;MACnBC,KAAK,EAAEhB,QAAQ,CAACS,YAAa;MAC7B2B,QAAQ,EAAEvB,YAAa;MACvBwB,WAAW,EAAC;IAAS;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxB,CAAC,eACFtC,OAAA;MACImB,IAAI,EAAC,WAAW;MAChBC,KAAK,EAAEhB,QAAQ,CAACU,SAAU;MAC1B0B,QAAQ,EAAEvB,YAAa;MAAAgB,QAAA,gBAEvBjC,OAAA;QAAQoB,KAAK,EAAC,aAAa;QAAAa,QAAA,EAAC;MAAW;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAChDtC,OAAA;QAAQoB,KAAK,EAAC,OAAO;QAAAa,QAAA,EAAC;MAAK;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAChC,CAAC,eACTtC,OAAA;MAAQuC,IAAI,EAAC,QAAQ;MAAAN,QAAA,EAAC;IAAc;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC3C,CAAC;AAEf,CAAC;AAACnC,EAAA,CAxHIF,OAAO;AAAA0C,EAAA,GAAP1C,OAAO;AA0Hb,eAAeA,OAAO;AAAC,IAAA0C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}